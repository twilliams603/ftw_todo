
<h1>Tasks</h1>

<table>
	<thead>
		<tr>
			<th>Name</th>
			<th>Notes</th>
			<th>Due Date</th>
			<th>Completed?</th>
			<th colspan="3"></th>
		</tr>
	</thead>

	<tbody>
		<% @tasks.each do |t| %>
			<tr>
			  <td><%= t.name %></td>
			  <td><%= t.notes %></td>
			  <td><%= t.due_date.strftime("%m-%d-%Y") %></td>
			  <td><%= t.completed %></td>
			  <td><%= link_to 'Show', t %></td>
			  <td><%= link_to 'Edit', edit_task_path(t) %></td>
			  <% if t.completed == false %>
			  	<td><%= link_to 'Complete', complete_task_path(t) %></td>
			  <% else %>
			  	<td><%= link_to 'Reset', reset_task_path(t) %></td>
			  <% end %>
			  <td><%= link_to 'Destroy', t, method: :delete, data: { confirm: 'Are you sure?' } %></td>
			</tr>
		<% end %>
	</tbody>
</table>

<hr />

<ul>
  <li><%= link_to 'New task', new_task_path %></li>
  <% if params[:show_completed] == "1" %>
  	<li><%= link_to 'Hide completed tasks', tasks_path(show_completed: 0) %></li>
  <% else %>
  	<li><%= link_to 'Show completed tasks', tasks_path(show_completed: 1) %></li> 
  <% end %>
</ul>
